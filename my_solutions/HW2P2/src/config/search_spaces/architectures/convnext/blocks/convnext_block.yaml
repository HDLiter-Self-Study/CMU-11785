# ConvNeXt Inverted Bottleneck Block Configuration
# @package architectures.convnext.blocks.convnext_block

# =============================================================================
# CONVNEXT INVERTED BOTTLENECK BLOCK CONFIGURATION
# =============================================================================
# This file contains ONLY block-specific parameters for the InvertedBottleneckBlock.
# 
# MAPPING RULES FOR ACTIVATION AND NORMALIZATION:
# - These parameters are controlled by main.yaml granularity settings
# - When granularity = "global": uses global activation/normalization
# - When granularity = "block_type": uses inverted_bottleneck_activation/normalization
# - When granularity = "stage" or "block_stage": allows per-stage overrides
# - The block implementation will receive the resolved values based on granularity

convnext_block:
  class: "instance"
  
  # Expansion ratio for inverted bottleneck (controls neck_channels scaling)
  expansion_ratio:
    class: "param"
    param_name: "expansion_ratio"
    type: "categorical"
    choices: [2, 4, 6, 8]
    description: "Expansion ratio for InvertedBottleneckBlock (neck_channels = in_channels * expansion_ratio)"
    
  # Depthwise convolution kernel size (typically 7x7 for ConvNeXt)
  depthwise_kernel_size:
    class: "param"
    param_name: "depthwise_kernel_size"
    type: "categorical"
    choices: [5, 7, 9]
    description: "Kernel size for depthwise convolution layer"
