# EMA Strategy Search Space
# @package search_spaces.ema

class: "strategy"
depends_on: ["optimizer"]

strategy_level: "robust"

# Policy: unified grouped output validation
policy:
  allowed_multi_modes: ["random_choice"]
  require_selection_when_multi: true
  
  required: false

model_averaging_techniques:
  class: "technique"

  selection:
    class: "param"
    param_name: "model_averaging_strategy"
    type: "categorical"
    choices:
      basic: ["none"]
      robust: ["none", "ema"]
      comprehensive: ["none", "ema"]
      custom: ["none", "ema"]
    dependency_order: ["strategy_level"]

  ema:
    class: "instance"
    condition: "$model_averaging_strategy in ['ema']"

    start_epoch:
      class: "param"
      param_name: "ema_start_epoch"
      type: "int"
      low: 0
      high: 20


